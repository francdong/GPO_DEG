<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
<title>Grafico Catena del Valore Personalizzato</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
    background-color: #0b0f1a;
    color: #e5e7eb;
    background-image:
      /* velatura lineare unificante (prima per fondere bene) */
      linear-gradient(120deg, rgba(21,24,38,0.55) 0%, rgba(14,18,30,0.22) 60%, rgba(11,15,26,0.10) 100%),
      /* alone violet molto ampio e progressivo (più presenza) */
      radial-gradient(100rem 80rem at 72% 12%, rgba(168,85,247,0.22) 0%, rgba(168,85,247,0.13) 30%, rgba(168,85,247,0.06) 55%, rgba(168,85,247,0.03) 72%, transparent 88%),
      /* alone magenta molto ampio e progressivo (più presenza) */
      radial-gradient(95rem 75rem at 18% 88%, rgba(192,38,211,0.20) 0%, rgba(192,38,211,0.12) 32%, rgba(192,38,211,0.06) 58%, rgba(192,38,211,0.03) 76%, transparent 90%);
    background-attachment: fixed;
  }

  /* Overlay esagonale tenue sullo sfondo */
  body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -1;
    background:
      radial-gradient(1000px 600px at 50% -10%, rgba(124,58,237,0.11), transparent 65%),
      url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="52" viewBox="0 0 52 45"><path d="M13 1 L39 1 L51 22.5 L39 44 L13 44 L1 22.5 Z" fill="none" stroke="%23a855f733" stroke-width="1"/></svg>');
    background-size: cover, 60px 52px;
    filter: drop-shadow(0 0 5px rgba(124,58,237,0.28));
    opacity: 0.28;
    pointer-events: none;
  }

  /* Vignettatura soffusa per eliminare stacchi netti ai bordi */
  body::after {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -1;
    background:
      /* noise leggerissimo per spezzare il banding */
      url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="1" stitchTiles="stitch"/></filter><rect width="120" height="120" filter="url(%23n)" opacity="0.025"/></svg>') repeat,
      radial-gradient(120rem 80rem at 50% 50%, rgba(0,0,0,0) 62%, rgba(0,0,0,0.28) 100%);
    mix-blend-mode: soft-light;
    pointer-events: none;
  }

  /* Layer animato per rendere i colori piu' "fighi" ma discreti */
  .bg-anim {
    position: fixed;
    inset: -10% -10% -10% -10%;
    z-index: -3;
    pointer-events: none;
    background:
      conic-gradient(from 0deg at 50% 50%,
        rgba(192,38,211,0.14) 0deg,
        rgba(168,85,247,0.16) 60deg,
        rgba(124,58,237,0.15) 120deg,
        rgba(192,38,211,0.14) 180deg,
        rgba(168,85,247,0.16) 240deg,
        rgba(124,58,237,0.15) 300deg,
        rgba(192,38,211,0.14) 360deg);
    filter: saturate(1.12) brightness(1.05);
    mix-blend-mode: overlay;
    animation: hueSweep 40s linear infinite;
  }

  @keyframes hueSweep {
    0% { transform: rotate(0deg) scale(1.03); opacity: 0.48; }
    50% { transform: rotate(180deg) scale(1.03); opacity: 0.62; }
    100% { transform: rotate(360deg) scale(1.03); opacity: 0.48; }
  }

  /* Shimmer sweep delicato */
  .bg-anim::before {
    content: "";
    position: absolute;
    inset: -20% -20% -20% -20%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.04), transparent);
    transform: translateX(-100%);
    animation: sweep 12s ease-in-out infinite;
    mix-blend-mode: soft-light;
  }

  @keyframes sweep {
    0% { transform: translateX(-100%); }
    50% { transform: translateX(0%); }
    100% { transform: translateX(100%); }
  }

  /* Starfield particellare in slow-drift */
  .bg-anim::after {
    content: "";
    position: absolute;
    inset: 0;
    background-image: radial-gradient(circle at 20% 30%, rgba(255,255,255,0.05) 0.5px, transparent 1.2px),
                      radial-gradient(circle at 70% 60%, rgba(255,255,255,0.045) 0.5px, transparent 1.2px),
                      radial-gradient(circle at 40% 80%, rgba(255,255,255,0.04) 0.5px, transparent 1.2px);
    background-size: 800px 800px, 900px 900px, 1000px 1000px;
    animation: drift 60s linear infinite;
    opacity: 0.25;
    mix-blend-mode: screen;
  }

  @keyframes drift {
    0% { background-position: 0 0, 0 0, 0 0; }
    100% { background-position: 200px 150px, -180px 120px, 160px -140px; }
  }

  /* Contenitore principale */
  .value-chain-container {
    max-width: 900px;
    margin: auto;
    position: relative;
  }

  /* Sezione rettangolo azzurro in alto */
  .top-section {
    background-color: #0f172a; /* dark card */
    border: 1px solid #a855f7; /* violet */
    padding: 5px;
    text-align: center;
    font-size: 14px;
    line-height: 1.3;
    display: grid;
    grid-template-rows: repeat(5, auto);
    width: 80%;
    margin: 0;
    box-sizing: border-box;
    box-shadow: 0 0 10px rgba(168,85,247,0.25), inset 0 0 6px rgba(124,58,237,0.15);
  }

  .top-section div {
    border-bottom: 1px solid rgba(167,139,250,0.35); /* violet divider */
    padding: 4px 0;
  }

  /* Ultima riga senza bordo inferiore */
  .top-section div:last-child {
    border-bottom: none;
    font-weight: bold;
  }

  /* Riga che contiene la sezione centrale e il triangolo */
  .middle-row {
    position: relative;
    width: 100%;
    margin-top: 0;
  }

  /* Sezione centrale (solo attività), allineata con la top */
  .middle-section {
    width: 80%;
    margin: 0;
  }

  /* Colonna attività primarie (sezione gialla/arancione) */
  .primary-activities {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 0;
    width: 100%;
  }

  .activity-box {
    padding: 10px;
    font-size: 12px;
    border: 1px solid rgba(255,255,255,0.08);
    min-height: 80px;
    color: #e5e7eb;
    box-shadow: 0 0 6px rgba(124,58,237,0.18);
    transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
  }

  .activity-box:hover {
    transform: translateY(-2px);
    box-shadow: 0 0 14px rgba(168,85,247,0.35);
    border-color: rgba(167,139,250,0.6);
  }

  /* Colori specifici per ogni cella */
  .activity1 {
    background-color: #111827; /* dark slate */
    border-right: none;
  }

  .activity2 {
    background-color: #0f172a; /* deep navy */
    border-right: none;
  }

  .activity3 {
    background-color: #1a103d; /* deep violet */
    border-right: none;
  }

  .activity4 {
    background-color: #241039; /* violet */
  }

  .activity5 {
    background-color: #2a0f2f; /* magenta tint */
  }

  /* Divisione in righe, per il secondo blocco (la seconda riga nel contenuto centrale) */
  .activity-box p {
    margin: 5px 0;
  }

  /* Freccia blu a destra (solo riga centrale) */
  .margin-arrow {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: 130px;
    background: linear-gradient(180deg, #c026d3 0%, #7c3aed 100%); /* magenta -> violet */
    clip-path: polygon(0 0, 100% 50%, 0 100%);
    box-shadow: 0 0 16px rgba(124,58,237,0.5), 0 0 28px rgba(192,38,211,0.35);
  }

  /* Testo inclinato sulla freccia */
  .margin-arrow span {
    position: absolute;
    top: 50%;
    left: 28px;
    transform: translateY(-50%) rotate(45deg);
    color: #f5f5f5;
    font-weight: bold;
    font-size: 16px;
    white-space: nowrap;
  }

  /* Sezione include la barra verde 'Attività primarie' con freccia */
  .activities-label {
    display: flex;
    align-items: center;
    margin-top: 8px;
    width: 80%;
  }

  .green-arrow {
    width: 0;
    height: 0;
    border-top: 15px solid transparent;
    border-bottom: 15px solid transparent;
    border-right: 30px solid #c026d3; /* magenta */
    margin-right: 8px;
  }

  .green-bar {
    background: linear-gradient(90deg, #c026d3 0%, #7c3aed 100%);
    color: white;
    padding: 8px;
    font-weight: bold;
    font-size: 14px;
    flex-grow: 1;
    text-align: center;
    border-radius: 4px;
    box-shadow: 0 0 12px rgba(192,38,211,0.35);
  }

  /* Font display per elementi chiave */
  .value-chain-container strong,
  .green-bar,
  .margin-arrow span {
    font-family: 'Orbitron', Arial, sans-serif;
    letter-spacing: 0.5px;
  }

</style>
</head>
<body>
  <div class="bg-anim" aria-hidden="true"></div>
  <div class="value-chain-container">
    <!-- Rettangolo azzurro in alto con righe -->
    <div class="top-section">
      <div>Creare l'agenzia</div>
      <div>Selezionare personale e autisti - 25.000 €</div>
      <div>Acquisto di due bus usati: Mercedes e Setra -105.000€</div>
      <div>Destinare 20.00€ per accordi con hotel e deposito bus</div>
      <div style="font-weight:bold;">Approvvigionamenti</div>
    </div>

    <!-- Sezione centrale attività primarie -->
    <div class="middle-row">
      <div class="middle-section">
        <div class="primary-activities">
          <div class="activity-box activity1">
          <strong>Ottenere licenze e permessi</strong><br>
          per passeggeri, + assicurare bus e attività con polizze adeguate -10.000€
          </div>
          <div class="activity-box activity2">
          <strong>Gestione e manutenzione</strong><br>
          -10.000€, preparare e aggiornare offerte e pacchetti viaggio (bus+hotel+personalizzazioni varie)
          </div>
          <div class="activity-box activity3">
          <strong>Lancio servizi Move&Rest</strong><br>
          marketing e vendite (sito web,campagne pubblicitarie,promozioni,pacchetti viaggio)-15.000€
          </div>
          <div class="activity-box activity4">
          <strong>Verifica di pagamento</strong><br>
          cliente effettua l'ordine e paga online tramite sito = rilascio promozione o biglietto digitale
          </div>
          <div class="activity-box activity5">
          <strong>Verifica di pagamento</strong><br>
          verifica di pagamento + pagamento accettato + controllo e gestione recensioni online(monitorato feedback,risposte a clienti)
          </div>
        </div>
      </div>
    </div>

    <!-- Freccia blu "Margine" a destra (fuori dalla middle-row) -->
    <div class="margin-arrow">
      <span>Margine</span>
    </div>

    <!-- Barra verde Attività primarie -->
    <div class="activities-label">
      <div class="green-arrow"></div>
      <div class="green-bar">Attività primarie</div>
    </div>
  </div>
  <script>
  (function() {
    function updateTriangleWidth() {
      var top = document.querySelector('.top-section');
      var middleRow = document.querySelector('.middle-row');
      var arrow = document.querySelector('.margin-arrow');
      if (!top || !middle || !arrow) return;

      var hTop = top.offsetHeight || 0;
      var hMiddle = (middleRow && middleRow.offsetHeight) || 0;
      // Base del triangolo: somma delle altezze richieste
      var base = hTop + hMiddle;
      // Limiti di sicurezza opzionali
      base = Math.max(90, Math.min(base, 600));
      arrow.style.width = base + 'px';
      // Estende il triangolo dalla cima del top alla base della middle
      arrow.style.top = '0px';
      arrow.style.height = (hTop + hMiddle) + 'px';

      // Centra meglio il testo interno in funzione della larghezza
      var label = arrow.querySelector('span');
      if (label) {
        label.style.left = Math.round(base * 0.22) + 'px';
      }
    }

    window.addEventListener('DOMContentLoaded', updateTriangleWidth);
    window.addEventListener('load', updateTriangleWidth);
    window.addEventListener('resize', updateTriangleWidth);
  })();
  </script>
</body>
</html>
