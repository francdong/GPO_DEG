    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Caricatore Modello 3D</title>
        <style>
            body { margin: 0; font-family: Arial, sans-serif; background: #f0f0f0; }
            #canvas-container { position: relative; width: 100vw; height: 80vh; }
            canvas { display: block; }
            #file-input, #url-input { position: absolute; top: 10px; left: 10px; z-index: 10; margin-bottom: 5px; }
            #load-url { position: absolute; top: 35px; left: 10px; z-index: 10; }
            #instructions { position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 10px; border-radius: 5px; z-index: 10; }
        </style>
    </head>
    <body>
        <div id="canvas-container">
            <input type="file" id="file-input" accept=".gltf,.glb,.obj" />
            <input type="text" id="url-input" placeholder="Inserisci URL del modello (es. https://...)" />
            <button id="load-url">Carica da URL</button>
            <div id="instructions">Seleziona un file o inserisci un URL per visualizzare il modello 3D. Usa il mouse per ruotare e zoomare.</div>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/OBJLoader.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
        <script>
            // [Il resto del codice rimane uguale, aggiungi solo questo sotto il listener per file-input]
            document.getElementById('load-url').addEventListener('click', () => {
                const url = document.getElementById('url-input').value;
                if (url) {
                    loadModelFromUrl(url);
                }
            });

            function loadModelFromUrl(url) {
                // Rimuovi modelli precedenti
                while (scene.children.length > 2) {
                    scene.remove(scene.children[scene.children.length - 1]);
                }
                const extension = url.split('.').pop().toLowerCase();
                if (extension === 'gltf' || extension === 'glb') {
                    gltfLoader.load(url, (gltf) => scene.add(gltf.scene), undefined, (error) => console.error('Errore GLTF:', error));
                } else if (extension === 'obj') {
                    objLoader.load(url, (object) => scene.add(object), undefined, (error) => console.error('Errore OBJ:', error));
                } else {
                    alert('Formato non supportato.');
                }
            }
        </script>
    </body>
    </html>
    
